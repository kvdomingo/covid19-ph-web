{% extends 'web/base.html.j2' %}

{% block body %}

<link rel="stylesheet" href="{{ static('web/css/index.css') }}" />
<script src="{{ static('web/js/index.js') }}"></script>


<div class="row m-0 p-0">
    <div class="col-md-7 m-0 p-0">
        <div class="map" id="map"></div>
    </div>
    <div class="col-md-5 p-3 text-right" id="sideDash">
        <h1 class="display-5 mb-4">Dashboard</h1>
        <div class="row row-cols-2 row-cols-xl-3">
            {% set panel_contents = [
                ('border-warning', 'Confirmed', 'text-warning', num_confirmed),
                ('border-success', 'Recovered', 'text-success', num_recovered),
                ('border-danger', 'Deaths', 'text-danger', num_death),
                ('border-muted', 'Tests', 'text-muted', num_tests),
                ('border-secondary', 'PUMs', 'text-secondary', num_pum),
                ('border-default', 'PUIs', 'text-default', num_pui),
            ] %}
            {% for border, header, text, num in panel_contents %}
                <div class="col mx-0 px-2">
                    <div class="card {{ border }} mb-3">
                        <div class="card-header">{{ header }}</div>
                        <div class="card-body {{ text }}">
                            <h1 class="card-title display-5">{{ num }}</h1>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        {% set charts = [
            ('Daily cases', time_plot),
            ('Cases by age group', age_plot),
            ('NCR cases', ncr_cases),
        ] %}
        {% for title, chart in charts %}
            <div class="mb-3 mx-0">
                <div class="card border-muted">
                    <div class="card-header">{{ title }}</div>
                    <div class="card-body m-0">{{ chart }}</div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
